<app-grid
  endpoint="/rent/odata/roles"
  [addOptions]="{url: '/roles/add', permission: 'role:create'}"
  [editOptions]="{url: '/roles/edit', permission: 'role:edit'}"
  [detailOptions]="{url: '/roles/detail', permission: 'role:view'}"  
  [deleteOptions]="{url: '/rent/roles', permission: 'role:delete'}"  
  [breadcrumbs]="breadcrumbs()"
  pageTitle="Roller"
  captionTitle="Rol Listesi"
  [showIndex]="true"
>
  <flexi-grid-column field="name" title="Rol Adı" />
  <flexi-grid-column field="permissionCount" title="İzin Sayısı" />

  <ng-template #columnCommandTemplate let-item>
    @if(checkPermission('role:update_permissions')){
      <flexi-button
        btnColor="pink"
        btnSize="small"
        btnIcon="key"
        title="İzinler"
        flexiTooltip
        [routerLink]="['/roles/permissions/', item.id]"
      ></flexi-button>
    }
  </ng-template>
</app-grid>
